{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/background/scenes.js","webpack:///./src/utils/request.js","webpack:///./src/background/settings.js","webpack:///./src/background/records.js","webpack:///./src/background/userinfos.js","webpack:///./src/background/page-histories.js","webpack:///./src/background/timer.js","webpack:///./src/background/scene-picker.js","webpack:///./src/background/player.js","webpack:///./src/background/notifications.js","webpack:///./src/background.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","background","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","scenes","id","zh-Hans","zh-Hant","en","sound_url","cover_url","scene_masks","primary_color","env","localStorage","getItem","baseURL","options","withCredentials","headers","Accept","Content-Type","ML-AppID","paramsSerializer","params","qs","stringify","indices","request","axios","interceptors","response","use","msg","error","promise_default","a","reject","code","message","events","EventEmitter","_immersiveMode","_whiteList","_workMode","_autoFocus","_autoBreak","_focusDuration","_breakDuration","_longBreakDuration","_longBreakFrequency","_autoFocusCycle","sync","console","log","chrome","storage","set","settings","immersiveMode","whiteList","workMode","autoFocus","autoBreak","focusDuration","breakDuration","longBreakDuration","longBreakFrequency","autoFocusCycle","onChanged","addListener","changes","newSettings","newValue","res","emit","on","event","listener","Proxy","target","prop","heldRecords","reportedPauses","reportedScenes","this_week_duration","this_week_times","today_duration","today_times","total_duration","total_times","genGuid","s4","Math","floor","random","toString","substring","getTodayRange","now","Date","nowDay","getDate","nowMonth","getMonth","nowYear","getFullYear","todayStartedAt","todayEndedAt","getWeekRange","weekStartedAt","weekEndedAt","nowDayOfWeek","getDay","fetchRecords","_callee","regeneratorRuntime","wrap","_context","prev","next","userInfos","url","time_zone_offset","getTimezoneOffset","localtime","parse_int_default","sent","getLocalRecords","records","abrupt","stop","clearRecords","randomNum","minNum","maxNum","arguments","addPauseDuration","endedAt","startedAt","timer","paused_at","started_at","ended_at","duration","addSceneDuration","reportedScenesLength","scene_id","picker","current","resetReportData","_callee3","_context3","resolve","local","_ref","asyncToGenerator","mark","_callee2","todayRange","weekRange","_context2","forEach","record","weekFlag","_x2","this","reportedData","_callee4","finish","progress","base_score","negative_score","positive_score","total_score","_context4","remain","focus_mode","finished_type","pauses","map","local_id","version","device_id","record_at","client_platform","client_version","method","t0","holdRecord","syncRecords","_callee6","_context6","_ref2","_callee5","_context5","remove","_x3","popupCenter","title","w","h","dualScreenLeft","undefined","screenLeft","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","document","documentElement","clientWidth","screen","height","innerHeight","clientHeight","systemZoom","availWidth","left","top","newWindow","open","focus","initUserInfos","pageHistories","syncLogs","requestLogin","loginWithCode","runtime","sendMessage","type","logout","refreshToken","clearupHandle","serverTime","serverTimeOffset","batchStore","_syncLogs","calibrationTimeStampOffset","_calibrationTimeStampOffset","_ref3","timestamp","_x","_syncLogs2","logs","domain","split","addLog","_addLog","performance","requestClearing","_requestClearing","_callee7","_context7","clearTimeout","setTimeout","saveLogs","reset","_saveLogs","_callee8","_context8","getLocalLogs","setInterval","nextStage","continuousFoucsTimes","stages","genStages","concat","toConsumableArray","sendMessageToContentScript","tabs","query","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","done","tab","whiteItem","find","includes","err","return","oldSettings","oldValue","status","applyStage","browserAction","setBadgeBackgroundColor","color","finishedAt","timerHandle","start","play","dispatchEvent","Event","stage","continuePlay","continuedAt","clearInterval","badgeText","ceil","setBadgeText","text","i18n","getMessage","pause","skip","dontNotification","isLastStage","nextStageisLongBreak","notifications","focusFinish","lastBreakFinish","breakFinish","setNextStage","setFocusDuration","ms","continue","getScenes","configs","scenesCount","setIndex","index","CustomEvent","detail","audio","getElementById","adjustVolume","_adjustVolume","newVolume","element","easing","interval","originalVolume","direction","delta","ticks","tick","swing","volume","cos","PI","player","muted","src","playFlag","paused","ended","then","currentTime","addEventListener","ring","formatDuration","totalMin","sec","min","hour","createNotifications","notificationId","state","totalTimes","times","buttons","iconUrl","focusFinishAction","buttonIndex","breakFinishAction","onButtonClicked","_notificationId$split","_notificationId$split2","slicedToArray","notificationType","_gaq","ga","createElement","async","getElementsByTagName","parentNode","insertBefore","onMessage","sender","syncData"],"mappings":"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","file":"background.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"background\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([3,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","window.scenes = [{\n    \"id\": \"ocean\",\n    \"name\": {\n      \"zh-Hans\": \"海浪\",\n      \"zh-Hant\": \"海洋\",\n      \"en\": \"Ocean\"\n    },\n    \"sound_url\": \"https://pics.tide.moreless.io/chrome/scene_ocean.mp3\",\n    \"cover_url\": \"http://pics.tide.moreless.io/preset_img/preset_focus_ocean.jpeg\",\n    \"scene_masks\": [\"170,170,170,0.56\", \"8,8,8,0.56\"],\n    \"primary_color\": \"21,95,106,1\"\n  },\n  {\n    \"id\": \"rain\",\n    \"name\": {\n      \"zh-Hans\": \"雨天\",\n      \"zh-Hant\": \"雨天\",\n      \"en\": \"Rain\"\n    },\n    \"sound_url\": \"https://pics.tide.moreless.io/chrome/scene_rain.mp3\",\n    \"cover_url\": \"http://pics.tide.moreless.io/preset_img/preset_focus_rain.jpeg\",\n    \"scene_masks\": [\"157,211,255,0.56\", \"0,40,80,0.56\"],\n    \"primary_color\": \"28,53,23,1\"\n  },\n  {\n    \"id\": \"forest\",\n    \"name\": {\n      \"zh-Hans\": \"森林\",\n      \"zh-Hant\": \"森林\",\n      \"en\": \"Forest\"\n    },\n    \"sound_url\": \"https://pics.tide.moreless.io/chrome/scene_forest.mp3\",\n    \"cover_url\": \"http://pics.tide.moreless.io/scenes/ln1kjd0GnkYXV_LsgFjOlsQRav5j\",\n    \"scene_masks\": [\"145,255,199,0.56\", \"0,60,0,0.56\"],\n    \"primary_color\": \"6, 39, 12, 1\"\n  },\n  {\n    \"id\": \"muse\",\n    \"name\": {\n      \"zh-Hans\": \"冥想\",\n      \"zh-Hant\": \"冥想\",\n      \"en\": \"Muse\"\n    },\n    \"sound_url\": \"https://pics.tide.moreless.io/chrome/scene_meditation.mp3\",\n    \"cover_url\": \"http://pics.tide.moreless.io/preset_img/preset_focus_muse.jpeg\",\n    \"scene_masks\": [\"234,189,255,0.56\", \"33,2,63,0.56\"],\n    \"primary_color\": \"96,91,90,1\"\n  },\n  {\n    \"id\": \"cafe\",\n    \"name\": {\n      \"zh-Hans\": \"咖啡\",\n      \"zh-Hant\": \"咖啡店\",\n      \"en\": \"Café\"\n    },\n    \"sound_url\": \"https://pics.tide.moreless.io/chrome/scene_coffee.mp3\",\n    \"cover_url\": \"http://pics.tide.moreless.io/scenes/FsHwADXbmEVcvdx7arLfykNsk-k6\",\n    \"scene_masks\": [\"255,158,128,0.56\", \"123,29,0,0.56\"],\n    \"primary_color\": \"30,30,30,1.0\"\n  }\n]","/* eslint-disable no-debugger */\n/* eslint-disable no-console */\nimport axios from 'axios'\nimport qs from 'qs'\n\nconst env = localStorage.getItem('env')\nlet baseURL = 'https://tide-api.moreless.io'\nif (env === 'dev') {\n  baseURL = 'https://tide-api.moreless.io'\n}\n\nconst options = {\n  baseURL: baseURL,\n  withCredentials: true,\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    'ML-AppID': 7\n  },\n  data: {},\n  paramsSerializer(params) {\n    return qs.stringify(params, {\n      indices: false\n    })\n  }\n}\nconst request = axios.create(options)\n\nrequest.interceptors.response.use(function (response) {\n  // 对响应数据做点什么\n  if (response.data) {\n    return response.data;\n  } else {\n    return {\n      msg: 'ok'\n    }\n  }\n}, function (error) {\n  // 对响应错误做点什么\n  if (error.response) {\n    return Promise.reject(error.response.data);\n  } else {\n    return Promise.reject({\n      code: -1,\n      msg: error.message\n    })\n  }\n})\n\nwindow.request = request","/* eslint-disable no-debugger */\n/* eslint-disable no-console */\n/* global chrome */\nimport {\n  EventEmitter\n} from 'events';\n(function () {\n  \"use strict\";\n  const events = new EventEmitter();\n  // 设置项\n  //   专注时长, 休息时长, 长休息时长\n  //   工作模式, 沉浸模式\n  //   自动专注, 自动休息\n  //   连续专注周期\n  //   白名单\n\n  let _immersiveMode = false\n  let _whiteList = []\n\n  let _workMode = false\n  let _autoFocus = false\n  let _autoBreak = false\n  let _focusDuration = 60000 * 25\n  let _breakDuration = 60000 * 5\n  let _longBreakDuration = 60000 * 20\n  let _longBreakFrequency = 4\n  let _autoFocusCycle = 0\n  chrome.storage.onChanged.addListener((changes) => {\n    if (changes.settings) {\n      const newSettings = changes.settings.newValue\n\n      _immersiveMode = newSettings.immersiveMode\n      _whiteList = newSettings.whiteList\n      _workMode = newSettings.workMode\n      _autoFocus = newSettings.autoFocus\n      _autoBreak = newSettings.autoBreak\n      _focusDuration = newSettings.focusDuration\n      _breakDuration = newSettings.breakDuration\n      _longBreakDuration = newSettings.longBreakDuration\n      _longBreakFrequency = newSettings.longBreakFrequency\n      _autoFocusCycle = newSettings.autoFocusCycle\n\n    }\n  });\n\n  chrome.storage.sync.get('settings', res => {\n    if (res.settings) {\n      const settings = res.settings\n      _immersiveMode = settings.immersiveMode\n      _whiteList = settings.whiteList\n      _workMode = settings.workMode\n      _autoFocus = settings.autoFocus\n      _autoBreak = settings.autoBreak\n      _focusDuration = settings.focusDuration\n      _breakDuration = settings.breakDuration\n      _longBreakDuration = settings.longBreakDuration\n      _longBreakFrequency = settings.longBreakFrequency\n      _autoFocusCycle = settings.autoFocusCycle\n    }\n    events.emit('inited')\n  })\n\n  function sync() {\n    console.log(_whiteList)\n    chrome.storage.sync.set({\n      settings: {\n        immersiveMode: _immersiveMode,\n        whiteList: _whiteList,\n        workMode: _workMode,\n        autoFocus: _autoFocus,\n        autoBreak: _autoBreak,\n        focusDuration: _focusDuration,\n        breakDuration: _breakDuration,\n        longBreakDuration: _longBreakDuration,\n        longBreakFrequency: _longBreakFrequency,\n        autoFocusCycle: _autoFocusCycle\n      }\n    })\n  }\n\n  const settings = {\n\n    on(event, listener) {\n      events.on(event, listener)\n    },\n\n    set immersiveMode(newValue) {\n      if (_immersiveMode !== newValue) {\n        _immersiveMode = newValue\n        sync()\n      }\n    },\n    get immersiveMode() {\n      return _immersiveMode\n    },\n\n    get whiteList() {\n      return new Proxy(_whiteList, {\n        set(target, prop, value) {\n          target[prop] = value\n          sync()\n          return true\n        }\n      })\n    },\n\n    set workMode(newValue) {\n      if (_workMode !== newValue) {\n        _workMode = newValue\n        sync()\n      }\n    },\n    get workMode() {\n      return _workMode\n    },\n\n\n    set autoFocus(newValue) {\n      if (_autoFocus !== newValue) {\n        _autoFocus = newValue\n        sync()\n      }\n    },\n    get autoFocus() {\n      return _autoFocus\n    },\n\n\n    set autoBreak(newValue) {\n      if (_autoBreak !== newValue) {\n        _autoBreak = newValue\n        sync()\n      }\n    },\n    get autoBreak() {\n      return _autoBreak\n    },\n\n\n    set focusDuration(newValue) {\n      if (_focusDuration !== newValue) {\n        _focusDuration = newValue\n        sync()\n      }\n    },\n    get focusDuration() {\n      return _focusDuration\n    },\n\n\n    set breakDuration(newValue) {\n      if (_breakDuration !== newValue) {\n        _breakDuration = newValue\n        sync()\n      }\n    },\n    get breakDuration() {\n      return _breakDuration\n    },\n\n\n    set longBreakDuration(newValue) {\n      if (_longBreakDuration !== newValue) {\n        _longBreakDuration = newValue\n        sync()\n      }\n    },\n    get longBreakDuration() {\n      return _longBreakDuration\n    },\n\n\n    set longBreakFrequency(newValue) {\n      if (_longBreakFrequency !== newValue) {\n        _longBreakFrequency = newValue\n        sync()\n      }\n    },\n    get longBreakFrequency() {\n      return _longBreakFrequency\n    },\n\n\n    set autoFocusCycle(newValue) {\n      if (_autoFocusCycle !== newValue) {\n        _autoFocusCycle = newValue\n        sync()\n      }\n    },\n    get autoFocusCycle() {\n      return _autoFocusCycle\n    }\n\n  };\n\n  window.settings = settings;\n})()","/* eslint-disable no-debugger */\n/* eslint-disable no-console */\n/* global chrome, userInfos, timer, picker, request */\n\nlet heldRecords = []\nlet reportedPauses = []\nlet reportedScenes = []\nlet data = {\n  this_week_duration: 0,\n  this_week_times: 0,\n  today_duration: 0,\n  today_times: 0,\n  total_duration: 0,\n  total_times: 0\n}\n\nfunction genGuid() {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  }\n  return (\n    s4() +\n    s4() +\n    \"-\" +\n    s4() +\n    \"-\" +\n    s4() +\n    \"-\" +\n    s4() +\n    \"-\" +\n    s4() +\n    s4() +\n    s4()\n  );\n}\n\nfunction getTodayRange() {\n  var now = new Date(); //当前日期\n  var nowDay = now.getDate(); //当前日\n  var nowMonth = now.getMonth(); //当前月\n  var nowYear = now.getFullYear(); //当前年\n  var todayStartedAt = new Date(nowYear, nowMonth, nowDay);\n  var todayEndedAt = new Date(nowYear, nowMonth, nowDay, 23, 59, 59);\n  return [todayStartedAt / 1000, todayEndedAt / 1000];\n}\n\nfunction getWeekRange() {\n  var now = new Date(); //当前日期\n  var nowDayOfWeek = now.getDay(); //今天本周的第几天\n  var nowDay = now.getDate(); //当前日\n  var nowMonth = now.getMonth(); //当前月\n  var nowYear = now.getFullYear(); //当前年\n  var weekStartedAt\n  var weekEndedAt\n  if (nowDayOfWeek) {\n    weekStartedAt = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek + 1);\n    weekEndedAt = new Date(\n      nowYear,\n      nowMonth,\n      nowDay + (7 - nowDayOfWeek),\n      23,\n      59,\n      59\n    )\n  } else {\n    weekStartedAt = new Date(nowYear, nowMonth, -7);\n    weekEndedAt = new Date(\n      nowYear,\n      nowMonth,\n      nowDay,\n      23,\n      59,\n      59\n    )\n  }\n  return [weekStartedAt / 1000, weekEndedAt / 1000];\n}\n\nasync function fetchRecords() {\n  let data\n  if (userInfos) {\n    data = await request({\n      url: \"/v1/chrome_ext/users/self/focus/records/report\",\n      params: {\n        time_zone_offset: -(new Date().getTimezoneOffset() * 60),\n        localtime: parseInt(+new Date() / 1000)\n      }\n    })\n  } else {\n    data = await getLocalRecords()\n  }\n  window.records.data = data\n  return data\n}\n\nfunction clearRecords() {\n  window.records.data = {\n    this_week_duration: 0,\n    this_week_times: 0,\n    today_duration: 0,\n    today_times: 0,\n    total_duration: 0,\n    total_times: 0\n  }\n}\n\nfunction randomNum(minNum, maxNum) {\n  switch (arguments.length) {\n    case 1:\n      return parseInt(Math.random() * minNum + 1, 10);\n    case 2:\n      return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\n    default:\n      return 0;\n  }\n}\n\nfunction addPauseDuration(endedAt) {\n  const startedAt = timer.paused_at\n  reportedPauses.push({\n    started_at: startedAt,\n    ended_at: endedAt,\n    duration: endedAt - startedAt\n  })\n}\n\nfunction addSceneDuration() {\n  const endedAt = +new Date()\n  let startedAt\n  let reportedScenesLength = reportedScenes.length\n  if (!reportedScenesLength) {\n    startedAt = timer.started_at\n  } else {\n    startedAt = reportedScenes[reportedScenesLength - 1].ended_at\n  }\n  reportedScenes.push({\n    started_at: startedAt,\n    ended_at: endedAt,\n    scene_id: picker.scenes[picker.current].id\n  })\n}\n\nfunction resetReportData() {\n  reportedPauses = []\n  reportedScenes = []\n}\n\nasync function getLocalRecords() {\n  return new Promise((resolve) => {\n    chrome.storage.local.get('heldRecords', async (data) => {\n      if (data.heldRecords) {\n        let this_week_duration = 0;\n        let this_week_times = 0;\n        let today_duration = 0;\n        let today_times = 0;\n        let total_duration = 0;\n        let total_times = 0;\n        const records = data.heldRecords;\n        const todayRange = getTodayRange();\n        const weekRange = getWeekRange();\n        records.forEach(record => {\n          let weekFlag = false;\n\n          if (weekRange[0] <= record.started_at && record.ended_at <= weekRange[1]) {\n            // 最基本的情况，整段落入区间\n            this_week_duration += (record.ended_at - record.started_at);\n            this_week_times += 1;\n            weekFlag = true;\n          } else if (record.started_at <= weekRange[0] && weekRange[0] <= record.ended_at && record.ended_at <= weekRange[1]) {\n            // 只有结束时间落入区间\n            this_week_duration += (record.ended_at - weekRange[0]);\n            this_week_times += 1;\n            weekFlag = true;\n          } else if (weekRange[0] <= record.started_at && weekRange[1] <= record.ended_at) {\n            // 只有开始时间落入区间\n            this_week_duration += (record.ended_at - record.started_at);\n            this_week_times += 1;\n            weekFlag = true;\n          }\n\n          if (weekFlag) {\n            if (todayRange[0] <= record.started_at && record.ended_at <= todayRange[1]) {\n              // 最基本的情况，整段落入区间\n              today_duration += (record.ended_at - record.started_at);\n              today_times += 1;\n            } else if (record.started_at <= todayRange[0] && todayRange[0] <= record.ended_at && record.ended_at <= todayRange[1]) {\n              // 只有结束时间落入区间\n              today_duration += (record.ended_at - todayRange[0]);\n              today_times += 1;\n            } else if (todayRange[0] <= record.started_at && todayRange[1] <= record.ended_at) {\n              // 只有开始时间落入区间\n              today_duration += (record.ended_at - record.started_at);\n              today_times += 1;\n            }\n          }\n\n          total_duration += record.duration;\n          total_times += 1;\n        });\n        resolve({\n          this_week_duration,\n          this_week_times,\n          today_duration,\n          today_times,\n          total_duration,\n          total_times\n        })\n      } else {\n        resolve({\n          this_week_duration: 0,\n          this_week_times: 0,\n          today_duration: 0,\n          today_times: 0,\n          total_duration: 0,\n          total_times: 0\n        })\n      }\n    })\n  })\n}\n\nasync function reportedData(finish) {\n  const startedAt = timer.started_at / 1000\n  const endedAt = +new Date() / 1000\n  const progress = timer.duration - timer.remain\n  const base_score = 20\n  const negative_score = randomNum(50, 70)\n  const positive_score = 15\n  let total_score = base_score + negative_score + positive_score\n  if (total_score > 100) {\n    total_score = 100\n  }\n  if (progress >= 0) {\n    const record = {\n      \"started_at\": startedAt,\n      \"ended_at\": endedAt,\n      \"duration\": parseInt(timer.duration / 1000),\n      \"progress\": parseInt(progress / 1000),\n      \"focus_mode\": settings.immersiveMode ? \"immersive\" : 'normal',\n      \"finished_type\": finish ? \"finish\" : 'giveup',\n      \"pauses\": reportedPauses.map((log) => {\n        return {\n          started_at: log.started_at / 1000,\n          ended_at: log.ended_at / 1000,\n          duration: parseInt(log.duration / 1000)\n        }\n      }),\n      base_score,\n      negative_score,\n      positive_score,\n      total_score,\n      local_id: genGuid(),\n      \"version\": 1,\n      \"device_id\": \"chrome\",\n      \"record_at\": endedAt,\n      \"client_platform\": \"Chrome\",\n      \"client_version\": \"1.0.1\"\n    }\n    if (userInfos) {\n      try {\n        await request({\n          method: 'POST',\n          url: \"/v1/chrome_ext/users/self/focus/records\",\n          data: {\n            records: [record]\n          }\n        });\n      } catch (e) {\n        holdRecord(record)\n      }\n    } else {\n      holdRecord(record)\n    }\n    fetchRecords()\n  }\n}\n\nfunction holdRecord(record) {\n  heldRecords.push(record)\n  if (heldRecords.length > 10000) {\n    heldRecords.splice(0, 1)\n  }\n  chrome.storage.local.set({\n    heldRecords\n  });\n}\n\nasync function syncRecords() {\n  chrome.storage.local.get('heldRecords', async (data) => {\n    if (data.heldRecords) {\n      if (userInfos) {\n        try {\n          await request({\n            method: 'POST',\n            url: \"/v1/chrome_ext/users/self/focus/records\",\n            data: {\n              records: data.heldRecords\n            }\n          });\n          heldRecords = []\n          chrome.storage.local.remove('heldRecords')\n        } catch (e) {\n          console.log(e)\n          heldRecords = data.heldRecords\n        }\n      } else {\n        heldRecords = data.heldRecords\n      }\n      fetchRecords()\n    }\n  });\n\n}\n\n\nwindow.records = {\n  addPauseDuration,\n  addSceneDuration,\n  getLocalRecords,\n  resetReportData,\n  reportedData,\n  fetchRecords,\n  clearRecords,\n  syncRecords,\n  data\n}","/* eslint-disable no-debugger */\n/* eslint-disable no-console */\n/* global chrome, request, records, pageHistories */\n\nfunction popupCenter(url, title, w, h) {\n  // Fixes dual-screen position                         Most browsers      Firefox\n  var dualScreenLeft =\n    window.screenLeft != undefined ? window.screenLeft : window.screenX;\n  var dualScreenTop =\n    window.screenTop != undefined ? window.screenTop : window.screenY;\n\n  var width = window.innerWidth ?\n    window.innerWidth :\n    document.documentElement.clientWidth ?\n    document.documentElement.clientWidth :\n    screen.width;\n  var height = window.innerHeight ?\n    window.innerHeight :\n    document.documentElement.clientHeight ?\n    document.documentElement.clientHeight :\n    screen.height;\n\n  var systemZoom = width / window.screen.availWidth;\n  var left = (width - w) / 2 / systemZoom + dualScreenLeft;\n  var top = (height - h) / 2 / systemZoom + dualScreenTop;\n  var newWindow = window.open(\n    url,\n    title,\n    \"toolbar=no,location=no,directories=no,menubar=no,scrollbars=no,resizable=no,status=no, width=\" +\n    w / systemZoom +\n    \", height=\" +\n    h / systemZoom +\n    \", top=\" +\n    top +\n    \", left=\" +\n    left\n  );\n\n  // Puts focus on the newWindow\n  if (window.focus) newWindow.focus();\n}\n\nasync function initUserInfos(userInfos) {\n  try {\n    if (!userInfos) {\n      userInfos = await request({\n        url: \"/v1/chrome_ext/users/self\"\n      })\n    }\n    window.userInfos = userInfos\n    await pageHistories.syncLogs()\n    await records.syncRecords()\n    await records.fetchRecords()\n  } catch (e) {\n    window.userInfos = null\n    window.records.clearRecords()\n  }\n}\n\nasync function requestLogin() {\n  popupCenter(\n    \"https://tide-api.moreless.io/static/login?platform=chrome_ext\",\n    \"TideLogin\",\n    1024,\n    768\n  );\n}\n\nasync function loginWithCode(code) {\n  const userInfos = await request({\n    method: \"POST\",\n    url: \"/v1/chrome_ext/code_login\",\n    data: {\n      code\n    }\n  })\n  window.userInfos = userInfos\n  await initUserInfos(userInfos)\n  chrome.runtime.sendMessage({\n    type: 'logined',\n    userInfos\n  });\n  return userInfos\n}\n\nasync function logout(data) {\n  await request({\n    url: \"/v1/chrome_ext/logout\",\n    method: \"POST\",\n    data\n  })\n  window.userInfos = null\n  chrome.runtime.sendMessage({\n    type: 'logout'\n  });\n  records.clearRecords()\n}\n\nasync function refreshToken() {\n  if (window.userInfos) {\n    window.userInfos = await request({\n      url: '/v1/chrome_ext/users/self/refresh_token',\n    })\n  }\n}\n\nwindow.userInfos = null\n\nwindow.initUserInfos = initUserInfos\nwindow.loginWithCode = loginWithCode\nwindow.requestLogin = requestLogin\nwindow.logout = logout\nwindow.refreshToken = refreshToken","/* eslint-disable no-debugger */\n/* eslint-disable no-console */\n/* global chrome, request */\n\n// 处理上一次退出浏览器时，没采集的最后一条记录\n\n(function () {\n  \"use strict\";\n\n  // 为了减少请求数，需要将记录聚合起来一并采集，请求发送成功后需要清除重置\n  let clearupHandle = null\n  let serverTime = +new Date()\n  let serverTimeOffset = 0\n  let batchStore = []\n\n  setInterval(async () => {\n    const data = await request({\n      url: '/v1/server_time',\n    })\n    serverTimeOffset = data.timestamp * 1000 - (serverTime + performance.now())\n  }, 3600000);\n\n  calibrationTimeStampOffset()\n\n  function syncLogs() {\n    chrome.storage.local.get('batchStore', (data) => {\n      if (data.batchStore) {\n        _syncLogs(data.batchStore)\n      }\n    });\n  }\n\n  async function calibrationTimeStampOffset() {\n    const {\n      timestamp\n    } = await request({\n      url: '/v1/server_time',\n    })\n    serverTime = timestamp * 1000\n  }\n\n  async function _syncLogs(logs) {\n    const records = logs.map(log => {\n      return {\n        domain: log.url.split('/')[2],\n        started_at: parseInt(log.started_at / 1000),\n        duration: parseInt(log.duration / 1000)\n      }\n    })\n    if (window.userInfos) {\n      try {\n        await request({\n          url: '/v1/chrome_ext/page_histories',\n          method: 'POST',\n          data: {\n            records,\n            time_zone_offset: -(new Date().getTimezoneOffset() * 60)\n          }\n        })\n        batchStore = []\n        chrome.storage.local.remove('batchStore')\n      } catch (e) {\n        batchStore = logs\n      }\n    } else {\n      batchStore = logs\n    }\n  }\n\n  async function addLog(log) {\n    log.started_at = serverTime + serverTimeOffset + performance.now() - log.duration\n    batchStore.push(log)\n    if (batchStore.length > 10000) {\n      batchStore.splice(0, 1)\n    }\n    chrome.storage.local.set({\n      batchStore\n    });\n    if (window.userInfos) {\n      await requestClearing()\n    }\n  }\n\n  async function requestClearing() {\n    clearTimeout(clearupHandle)\n    clearupHandle = setTimeout(async () => {\n      try {\n        await saveLogs()\n        reset()\n      } catch (e) {\n        console.log(e)\n      }\n      clearupHandle = null\n    }, 2000);\n  }\n\n  function reset() {\n    batchStore = []\n    chrome.storage.local.remove('batchStore')\n  }\n\n\n  async function saveLogs() {\n    const records = batchStore.map(log => {\n      return {\n        domain: log.url.split('/')[2],\n        started_at: parseInt(log.started_at / 1000),\n        duration: parseInt(log.duration / 1000)\n      }\n    })\n\n    return await request({\n      url: '/v1/chrome_ext/page_histories',\n      method: 'POST',\n      data: {\n        records,\n        time_zone_offset: -(new Date().getTimezoneOffset() * 60)\n      }\n    })\n  }\n\n\n  function getLocalLogs() {\n    return new Promise((resolve) => {\n      chrome.storage.local.get('batchStore', async (data) => {\n        if (data.batchStore) {\n          resolve(data.batchStore)\n        } else {\n          resolve([])\n        }\n      })\n    })\n  }\n\n  const pageHistories = {\n    addLog,\n    syncLogs,\n    getLocalLogs\n  }\n  window.pageHistories = pageHistories\n})()","/* eslint-disable no-debugger */\n/* eslint-disable no-console */\n/* global chrome, records, notifications */\n(function () {\n  \"use strict\";\n\n  let nextStage = 0\n  let continuousFoucsTimes = 0\n  let stages = []\n\n  genStages()\n\n  window.settings.on('inited', () => {\n    genStages()\n  })\n\n\n  function genStages() {\n    nextStage = 0\n    stages = []\n    if (!window.settings.workMode) {\n      stages = ['focus']\n    } else if (!window.settings.longBreakFrequency) {\n      stages = ['focus', 'break']\n    } else {\n      for (let i = 0; i < window.settings.longBreakFrequency - 1; i++) {\n        stages = [...stages, ...['focus', 'break']]\n      }\n      stages = [...stages, ...['focus', 'long_break']]\n    }\n  }\n\n\n  chrome.storage.onChanged.addListener((changes) => {\n    if (changes.settings) {\n      const oldSettings = changes.settings.oldValue\n      const newSettings = changes.settings.newValue\n      if (!oldSettings) {\n        genStages()\n        window.timer.applyStage()\n      } else {\n        if (oldSettings.workMode !== newSettings.workMode) {\n          genStages()\n        }\n\n        if (oldSettings.focusDuration !== newSettings.focusDuration) {\n          if (window.timer.status === 'stop') {\n            window.timer.applyStage()\n          }\n        }\n\n        if (oldSettings.breakDuration !== newSettings.breakDuration) {\n          if (window.timer.status === 'stop') {\n            window.timer.applyStage()\n          }\n        }\n\n        if (oldSettings.longBreakDuration !== newSettings.longBreakDuration) {\n          if (window.timer.status === 'stop') {\n            window.timer.applyStage()\n          }\n        }\n\n        if (oldSettings.longBreakFrequency !== newSettings.longBreakFrequency) {\n          genStages()\n        }\n\n        if (oldSettings.autoFocusCycle !== newSettings.autoFocusCycle) {\n          continuousFoucsTimes = 0\n        }\n      }\n\n    }\n\n  });\n\n  function sendMessageToContentScript(message) {\n    chrome.tabs.query({}, function (tabs) {\n      for (let tab of tabs) {\n        if (tab.url) {\n          let domain = tab.url.split('/')[2]\n          if (window.settings.immersiveMode) {\n            const whiteItem = window.settings.whiteList.find(whiteItem => {\n              return domain.includes(whiteItem)\n            })\n            if (!whiteItem) {\n              chrome.tabs.sendMessage(tab.id, message);\n            }\n          }\n        }\n      }\n    });\n  }\n\n  chrome.browserAction.setBadgeBackgroundColor({\n    color: '#8E8E93'\n  });\n  window.timer = function () {\n\n    let timer = {\n      status: 'stop',\n      started_at: 0,\n      duration: 5000,\n      remain: 5000,\n      immersiveMode: false\n    }\n\n    let finishedAt = null\n\n    let timerHandle = null\n    applyStage()\n\n    function start() {\n      play()\n      window.dispatchEvent(new Event('timer-start'))\n      if (timer.stage === 'focus') {\n        if (finishedAt && (+new Date() > finishedAt + 60 * 60 * 1000)) {\n          nextStage = 0\n        }\n      }\n    }\n\n    function continuePlay() {\n      timer.status = 'playing'\n\n      let continuedAt = +new Date();\n      records.addPauseDuration(continuedAt)\n      timer.status = \"playing\";\n      let remain = timer.remain\n      clearInterval(timerHandle);\n      timerHandle = null;\n      timerHandle = setInterval(() => {\n        timer.remain = remain - (+new Date() - continuedAt);\n        let badgeText = Math.ceil(timer.remain / 1000 / 60).toString()\n        if (timer.remain <= 0) {\n          finish()\n          badgeText = ''\n        }\n        if (timer.stage === 'focus') {\n          chrome.browserAction.setBadgeText({\n            text: badgeText\n          });\n          sendMessageToContentScript({\n            type: 'focusing',\n            remain: timer.remain\n          })\n        } else if (['break', 'long_break'].includes(timer.stage)) {\n          chrome.browserAction.setBadgeText({\n            text: chrome.i18n.getMessage('badgeTestRest')\n          });\n        }\n      }, 500);\n    }\n\n    function play() {\n      timer.status = 'playing'\n\n      let startedAt = +new Date();\n      timer.started_at = startedAt;\n      timer.status = \"playing\";\n      let remain = timer.remain\n      clearInterval(timerHandle);\n      timerHandle = null;\n      timerHandle = setInterval(() => {\n        timer.remain = remain - (+new Date() - startedAt);\n        let badgeText = Math.ceil(timer.remain / 1000 / 60).toString()\n        if (timer.remain <= 0) {\n          finish()\n          badgeText = ''\n        }\n        if (timer.stage === 'focus') {\n          chrome.browserAction.setBadgeText({\n            text: badgeText\n          });\n          sendMessageToContentScript({\n            type: 'focusing',\n            remain: timer.remain\n          })\n        } else if (['break', 'long_break'].includes(timer.stage)) {\n          chrome.browserAction.setBadgeText({\n            text: chrome.i18n.getMessage('badgeTestRest')\n          });\n        }\n      }, 500);\n    }\n\n    function pause() {\n      clearInterval(timerHandle);\n      timerHandle = null;\n      // timer.duration = timer.remain;\n      timer.status = \"pause\";\n      timer.paused_at = +new Date()\n    }\n\n    function stop() {\n      clearInterval(timerHandle);\n      timerHandle = null;\n      if (timer.stage === 'focus') {\n        records.addPauseDuration(+new Date())\n        records.addSceneDuration()\n        records.reportedData(false)\n      }\n      timer.remain = timer.duration;\n      timer.status = \"stop\";\n      records.resetReportData()\n      nextStage = 0\n      continuousFoucsTimes = 0\n      applyStage()\n    }\n\n    function skip() {\n      if (this.stage !== 'focus') {\n        finish(true)\n      }\n    }\n\n    function finish(dontNotification = false) {\n      const isLastStage = window.settings.autoFocusCycle && continuousFoucsTimes + 1 >= window.settings.autoFocusCycle\n\n      if (timer.stage === 'focus') {\n        const nextStageisLongBreak = stages[nextStage + 1] === 'long_break'\n        records.addSceneDuration()\n        records.reportedData(true)\n        if (!dontNotification) {\n          notifications.focusFinish({\n            workMode: window.settings.workMode,\n            autoFocus: window.settings.autoFocus,\n            autoBreak: window.settings.autoBreak\n          }, timer.duration, records.data.today_times + 1, window.settings.longBreakFrequency, isLastStage, nextStageisLongBreak)\n        }\n      } else {\n\n        if (!dontNotification) {\n          if (isLastStage) {\n            notifications.lastBreakFinish({\n              workMode: window.settings.workMode,\n              autoFocus: window.settings.autoFocus,\n              autoBreak: window.settings.autoBreak\n            })\n          } else {\n            notifications.breakFinish({\n              workMode: window.settings.workMode,\n              autoFocus: window.settings.autoFocus,\n              autoBreak: window.settings.autoBreak\n            })\n          }\n        }\n      }\n      clearInterval(timerHandle);\n      timerHandle = null;\n      timer.status = \"finish\";\n      records.resetReportData()\n      window.dispatchEvent(new Event('timer-finish'))\n\n      if (timer.stage === 'focus') {\n        finishedAt = +new Date()\n      }\n      setNextStage()\n      let stage = stages[nextStage]\n      applyStage()\n      if (window.settings.workMode && stage === 'focus' && window.settings.autoFocus) {\n        continuousFoucsTimes += 1\n        if (!window.settings.autoFocusCycle || continuousFoucsTimes < window.settings.autoFocusCycle) {\n          start()\n        } else {\n          continuousFoucsTimes = 0\n        }\n      } else if (window.settings.workMode && ['break', 'long_break'].includes(stage) && window.settings.autoBreak) {\n        start()\n      }\n    }\n\n    function setNextStage() {\n      if (nextStage + 1 >= stages.length) {\n        nextStage = 0\n      } else {\n        nextStage += 1\n      }\n    }\n\n    function applyStage() {\n      let stage = stages[nextStage]\n      switch (stage) {\n        case 'focus':\n          timer.duration = window.settings.focusDuration\n          timer.remain = window.settings.focusDuration\n          break;\n\n        case 'break':\n          timer.duration = window.settings.breakDuration\n          timer.remain = window.settings.breakDuration\n          break;\n\n        case 'long_break':\n          timer.duration = window.settings.longBreakDuration\n          timer.remain = window.settings.longBreakDuration\n          break;\n      }\n      timer.status = 'stop'\n      timer.started_at = 0\n      timer.stage = stage\n      chrome.browserAction.setBadgeText({\n        text: ''\n      });\n    }\n\n    function reset() {\n      timer.status = 'stop'\n      timer.started_at = 0\n      records.resetReportData()\n      chrome.browserAction.setBadgeText({\n        text: ''\n      });\n      applyStage()\n    }\n\n    function setFocusDuration(ms) {\n      window.settings.focusDuration = ms\n      chrome.storage.sync.set({\n        focusDuration: ms\n      })\n      applyStage()\n    }\n\n    timer.start = start\n    timer.continue = continuePlay\n    timer.stop = stop\n    timer.pause = pause\n    timer.skip = skip\n    timer.reset = reset\n    timer.setFocusDuration = setFocusDuration\n    timer.applyStage = applyStage\n    return timer\n  }()\n})()","/* eslint-disable no-debugger */\n/* eslint-disable no-console */\n/* global request, scenes, records */\nasync function getScenes() {\n    let scenes\n    try {\n      const configs = await request({\n        url: '/v1/chrome_ext/configs',\n      })\n      scenes = configs.scenes\n    } catch (e) {\n      scenes = window.scenes\n    }\n    return scenes\n  }\n  (async function () {\n    \"use strict\";\n    window.picker = await async function () {\n      let scenes = await getScenes()\n\n      const picker = {\n        scenes,\n        current: 0\n      }\n      const scenesCount = scenes.length\n      picker.next = () => {\n        let current = picker.current\n        if (picker.current >= scenesCount - 1) {\n          current = 0\n        } else {\n          current += 1\n        }\n        picker.setIndex(current)\n      }\n      picker.prev = () => {\n        let current = picker.current\n        if (picker.current <= 0) {\n          current = scenesCount - 1\n        } else {\n          current -= 1\n        }\n        picker.setIndex(current)\n      }\n      picker.setIndex = (index) => {\n        if (picker.current !== index) {\n          records.addSceneDuration()\n          picker.current = index\n          window.dispatchEvent(new CustomEvent('picker-change', {\n            detail: {\n              current: picker.current\n            }\n          }))\n        }\n      }\n      return picker\n    }()\n  })()","/* eslint-disable no-debugger */\n/* eslint-disable no-console */\n(function () {\n  const audio = document.getElementById('audio');\n\n  async function adjustVolume(newVolume) {\n    let element = audio\n    let duration = 1000\n    let easing = swing\n    let interval = 13\n    let originalVolume = element.volume;\n    if (originalVolume === newVolume) {\n      return Promise.resolve();\n    }\n    let direction = originalVolume > newVolume ? 'toLower' : 'toHigher'\n    let delta = newVolume - originalVolume;\n    if (!delta || !duration || !easing || !interval) {\n      element.volume = newVolume;\n      return Promise.resolve();\n    }\n    let ticks = Math.floor(duration / interval);\n    let tick = 1;\n    return new Promise((resolve) => {\n      let timer = setInterval(() => {\n        let volume = originalVolume + (\n          easing(tick / ticks) * delta\n        );\n        ++tick\n        element.volume = volume\n        if (\n          (direction === 'toLower' && element.volume <= newVolume) ||\n          (direction === 'toHigher' && element.volume >= newVolume)) {\n          element.volume = volume\n          clearInterval(timer);\n          resolve();\n        }\n      }, interval);\n    });\n  }\n\n  function swing(p) {\n    return 0.5 - Math.cos(p * Math.PI) / 2;\n  }\n\n  window.player = function () {\n    const player = {\n      status: 'stop',\n      progress: 0,\n      muted: audio.muted\n    }\n    player.setUrl = (src) => {\n      if (audio.src !== src) {\n        let playFlag = !audio.paused && !audio.ended\n        audio.src = src\n        if (playFlag) {\n          audio.play()\n        }\n      }\n    }\n    player.play = () => {\n      audio.volume = 1\n      if (audio.paused || audio.ended) {\n        audio.play()\n      }\n      adjustVolume(1)\n      player.status = 'playing'\n    }\n    player.pause = () => {\n      audio.pause()\n      player.status = 'pause'\n    }\n    player.stop = () => {\n      player.status = 'stop'\n      adjustVolume(0).then(() => {\n        if (player.status === 'stop') {\n          audio.pause()\n          audio.currentTime = 0\n        }\n      })\n    }\n    player.muteOn = () => {\n      audio.muted = false\n      player.muted = false\n    }\n    player.muteOff = () => {\n      audio.muted = true\n      player.muted = true\n    }\n\n    audio.addEventListener('timeupdate', () => {\n      player.progress = Math.floor((audio.currentTime / audio.duration) * 100)\n    }, false);\n    return player\n  }()\n}())","/* eslint-disable no-debugger */\n/* eslint-disable no-console */\n/* global chrome, timer */\n\n(function () {\n  \"use strict\";\n\n  const ring = document.getElementById('ring');\n  ring.src = 'https://pics.tide.moreless.io/chrome/notification.mp3'\n\n  function genGuid() {\n    function s4() {\n      return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1);\n    }\n    return (\n      s4() +\n      s4() +\n      \"-\" +\n      s4() +\n      \"-\" +\n      s4() +\n      \"-\" +\n      s4() +\n      \"-\" +\n      s4() +\n      s4() +\n      s4()\n    );\n  }\n\n  function formatDuration(duration) {\n    const totalMin = parseInt(duration / 60);\n    const sec = duration % 60;\n    const min = totalMin % 60;\n    const hour = parseInt(totalMin / 60);\n    if (hour) {\n      return `${hour} ${chrome.i18n.getMessage(\"simplifiedHr\")} ${min} ${chrome.i18n.getMessage(\"simplifiedMin\")}`;\n    } else if (min) {\n      return `${min} ${chrome.i18n.getMessage(\"simplifiedMin\")}`;\n    } else {\n      return `${sec} ${chrome.i18n.getMessage(\"simplifiedSec\")}`;\n    }\n  }\n\n  function createNotifications(notificationId, options) {\n    chrome.notifications.create(notificationId, options)\n    ring.play()\n  }\n\n  function focusFinish(state, duration, totalTimes, times, isLastStage, nextStageisLongBreak) {\n    const {\n      workMode,\n      autoFocus,\n      autoBreak\n    } = state\n    let title\n    let message\n    let buttons = []\n    duration = formatDuration(duration / 1000)\n    chrome.i18n.getMessage(\"notifications_focus_finish_title_0\", `${times}`)\n    if (!workMode) {\n      title = nextStageisLongBreak ? chrome.i18n.getMessage(\"notifications_focus_finish_title_1\", `${times}`) : chrome.i18n.getMessage(\"notifications_focus_finish_title_0\", `${duration}`)\n      message = chrome.i18n.getMessage(\"notifications_focus_finish_message_0\", `${totalTimes}`)\n    } else if (autoFocus && autoBreak) {\n      title = nextStageisLongBreak ? chrome.i18n.getMessage(\"notifications_focus_finish_title_1\", `${times}`) : chrome.i18n.getMessage(\"notifications_focus_finish_title_0\", `${duration}`)\n      message = nextStageisLongBreak ? chrome.i18n.getMessage(\"notifications_focus_finish_message_4\") : chrome.i18n.getMessage(\"notifications_focus_finish_message_3\")\n    } else if (autoBreak) {\n      title = nextStageisLongBreak ? chrome.i18n.getMessage(\"notifications_focus_finish_title_1\", `${times}`) : chrome.i18n.getMessage(\"notifications_focus_finish_title_0\", `${duration}`)\n      message = nextStageisLongBreak ? chrome.i18n.getMessage(\"notifications_focus_finish_message_4\") : chrome.i18n.getMessage(\"notifications_focus_finish_message_3\")\n    } else if (autoFocus) {\n      title = nextStageisLongBreak ? chrome.i18n.getMessage(\"notifications_focus_finish_title_1\", `${times}`) : chrome.i18n.getMessage(\"notifications_focus_finish_title_0\", `${duration}`)\n      message = nextStageisLongBreak ? chrome.i18n.getMessage(\"notifications_focus_finish_message_2\") : chrome.i18n.getMessage(\"notifications_focus_finish_message_1\")\n      buttons = [{\n          title: chrome.i18n.getMessage(\"notifications_buttons_0\")\n        },\n        {\n          title: chrome.i18n.getMessage(\"notifications_buttons_2\")\n        }\n      ]\n    } else {\n      title = chrome.i18n.getMessage(\"notifications_focus_finish_title_0\", `${duration}`)\n      message = chrome.i18n.getMessage(\"notifications_focus_finish_message_1\")\n      buttons = [{\n          title: chrome.i18n.getMessage(\"notifications_buttons_0\")\n        },\n        {\n          title: chrome.i18n.getMessage(\"notifications_buttons_2\")\n        }\n      ]\n    }\n\n    if (isLastStage) {\n      title = nextStageisLongBreak ? chrome.i18n.getMessage(\"notifications_focus_finish_title_4\", `${times}`) : chrome.i18n.getMessage(\"notifications_focus_finish_title_3\")\n      buttons = [{\n          title: chrome.i18n.getMessage(\"notifications_buttons_0\")\n        },\n        {\n          title: chrome.i18n.getMessage(\"notifications_buttons_3\")\n        }\n      ]\n    }\n\n    createNotifications(`focus_finish|${genGuid()}`, {\n      type: 'basic',\n      iconUrl: 'tide_48.png',\n      title,\n      message,\n      buttons\n    })\n  }\n\n  function breakFinish(state) {\n    const {\n      workMode,\n      autoFocus,\n      autoBreak\n    } = state\n    let title\n    let message\n    let buttons = []\n\n    if (!workMode) {\n      return\n    } else if (autoFocus && autoBreak) {\n      title = chrome.i18n.getMessage(\"notifications_break_finish_title_0\")\n      message = chrome.i18n.getMessage(\"notifications_break_finish_message_1\")\n    } else if (autoBreak) {\n      title = chrome.i18n.getMessage(\"notifications_break_finish_title_0\")\n      message = chrome.i18n.getMessage(\"notifications_break_finish_message_0\")\n      buttons = [{\n        title: chrome.i18n.getMessage(\"notifications_buttons_1\")\n      }]\n    } else if (autoFocus) {\n      title = chrome.i18n.getMessage(\"notifications_break_finish_title_0\")\n      message = chrome.i18n.getMessage(\"notifications_break_finish_message_1\")\n    } else {\n      title = chrome.i18n.getMessage(\"notifications_break_finish_title_0\")\n      message = chrome.i18n.getMessage(\"notifications_break_finish_message_0\")\n      buttons = [{\n        title: chrome.i18n.getMessage(\"notifications_buttons_1\")\n      }]\n    }\n    createNotifications(`break_finish|${genGuid()}`, {\n      type: 'basic',\n      iconUrl: 'icon48.png',\n      title,\n      message,\n      buttons\n    })\n  }\n\n  function lastBreakFinish(state) {\n    const {\n      workMode\n    } = state\n    let title\n    let message\n    let buttons = []\n\n    if (!workMode) {\n      return\n    } else {\n      title = chrome.i18n.getMessage(\"notifications_break_finish_title_0\")\n      message = chrome.i18n.getMessage(\"notifications_break_finish_message_2\")\n      buttons = [{\n        title: chrome.i18n.getMessage(\"notifications_buttons_4\")\n      }]\n    }\n    createNotifications(`break_finish|${genGuid()}`, {\n      type: 'basic',\n      iconUrl: 'icon48.png',\n      title,\n      message,\n      buttons\n    })\n  }\n\n  function focusFinishAction(buttonIndex) {\n    switch (buttonIndex) {\n      case 0:\n        timer.start()\n        break;\n      case 1:\n        timer.skip()\n        timer.start()\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  function breakFinishAction(buttonIndex) {\n    switch (buttonIndex) {\n      case 0:\n        timer.start()\n        break;\n\n      default:\n        break;\n    }\n\n  }\n\n  chrome.notifications.onButtonClicked.addListener((notificationId, buttonIndex) => {\n    const [notificationType, ] = notificationId.split('|')\n    switch (notificationType) {\n      case 'focus_finish':\n        focusFinishAction(buttonIndex)\n        break;\n      case 'break_finish':\n        breakFinishAction(buttonIndex)\n        break;\n\n      default:\n        break;\n    }\n  })\n\n  window.notifications = {\n    focusFinish,\n    breakFinish,\n    lastBreakFinish\n  }\n})();","/* global chrome, player, timer, pageHistories */\nimport './utils/request.js'\nimport './background/settings.js'\nimport './background/records.js'\nimport './background/userinfos.js'\nimport './background/page-histories.js'\nimport './background/timer.js'\nimport './background/scenes.js'\nimport './background/scene-picker.js'\nimport './background/player.js'\nimport './background/notifications.js'\n\nwindow._gaq = window._gaq || [];\nwindow._gaq.push(['_setAccount', 'UA-75103409-6']);\nwindow._gaq.push(['_trackPageview']);\n\n(function () {\n  var ga = document.createElement('script');\n  ga.type = 'text/javascript';\n  ga.async = true;\n  ga.src = 'https://ssl.google-analytics.com/ga.js';\n  var s = document.getElementsByTagName('script')[0];\n  s.parentNode.insertBefore(ga, s);\n})();\n\nwindow.addEventListener(\n  \"timer-finish\",\n  () => {\n    player.stop();\n  },\n  false\n);\n\nwindow.addEventListener(\n  \"timer-start\",\n  () => {\n    setTimeout(() => {\n      if (timer.stage === 'focus') {\n        player.play();\n      }\n    }, 200);\n  },\n  false\n);\n\n\nchrome.runtime.onMessage.addListener(function (msg, sender) {\n  switch (msg.type) {\n    case 'closeCurrentTab':\n      chrome.tabs.remove(sender.tab.id)\n      break;\n    case 'addViewHistory':\n      pageHistories.addLog(msg.log)\n      break;\n    case 'stopFocus':\n      timer.stop()\n      player.stop()\n      break;\n    case 'loginWithCode':\n      window.loginWithCode(msg.code)\n      break;\n\n    default:\n      break;\n  }\n});\n\nwindow.syncData = async function () {\n  await window.initUserInfos()\n  window.refreshToken()\n}\n\nwindow.syncData()\nsetInterval(async () => {\n  window.refreshToken()\n}, 86400000);"],"sourceRoot":""}