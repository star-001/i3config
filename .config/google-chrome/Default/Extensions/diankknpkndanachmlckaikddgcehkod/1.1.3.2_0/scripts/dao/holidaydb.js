define(function(require,exports,module){var a=require("utils/server"),b=require("configs/settings"),c={},d=null;exports.db={fetchHolidays:function(e,f,g){b.isCnSites&&a.getHoliday(null,function(a){d=a;var b=!1;_.each(a,function(a){c[a.date]!=a.type&&(c[a.date]=a.type,b=!0)}),b&&Backbone.trigger("renderHolidayInfo"),f&&f()},function(){d=null,g&&g()},e)},getDateType:function(a){return c[a]},getHolidayData:function(){return d},getHolidayDataSerious:function(a){d?a&&a(d):(this.fetchHolidays(!1),a&&a(d||[]))}}});